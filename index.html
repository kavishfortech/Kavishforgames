<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KAVISH SHAH | THE ARCHITECT</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=JetBrains+Mono:wght@400;800&display=swap');

        :root {
            --neon-blue: #00f2ff;
            --neon-green: #39ff14;
            --neon-pink: #ff00ea;
            --neon-red: #ff3131;
            --bg-black: #050508;
            --panel-bg: rgba(12, 12, 20, 0.98);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; touch-action: manipulation; }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-black);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- THE DYNAMIC COLOR BOX HEADER --- */
        .header-section {
            width: 100%;
            padding: 40px 15px;
            display: flex;
            justify-content: center;
            background: #000;
            border-bottom: 2px solid var(--neon-blue);
        }

        .color-shift-box {
            padding: 30px 40px;
            border: 4px solid var(--neon-blue);
            border-radius: 12px;
            text-align: center;
            background: rgba(0, 0, 0, 0.9);
            animation: borderCycle 8s infinite alternate;
            box-shadow: 0 0 25px rgba(0, 242, 255, 0.2);
            width: 100%;
            max-width: 650px;
        }

        @keyframes borderCycle {
            0% { border-color: var(--neon-blue); box-shadow: 0 0 35px var(--neon-blue); }
            50% { border-color: var(--neon-pink); box-shadow: 0 0 35px var(--neon-pink); }
            100% { border-color: var(--neon-green); box-shadow: 0 0 35px var(--neon-green); }
        }

        .color-shift-box h1 {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(1.8rem, 7vw, 3.8rem);
            letter-spacing: -3px;
            animation: textCycle 8s infinite alternate;
        }

        @keyframes textCycle {
            0% { color: var(--neon-blue); text-shadow: 0 0 15px var(--neon-blue); }
            50% { color: var(--neon-pink); text-shadow: 0 0 15px var(--neon-pink); }
            100% { color: var(--neon-green); text-shadow: 0 0 15px var(--neon-green); }
        }

        /* --- LAYOUT ENGINE --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 25px;
            padding: 25px;
            width: 100%;
            max-width: 1200px;
        }

        .engine-card {
            background: var(--panel-bg);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .card-label {
            font-size: 0.9rem;
            color: var(--neon-blue);
            margin-bottom: 20px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        /* --- SNAKE SYSTEM --- */
        .game-viewport {
            position: relative;
            width: 100%;
            max-width: 320px;
            aspect-ratio: 1/1;
            background: #000;
            border: 2px solid #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
        }

        canvas { width: 100%; height: 100%; display: block; }

        .score-panel {
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 10px 5px;
            font-size: 1.1rem;
        }

        /* --- GAME OVER OVERLAY --- */
        #deathOverlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        #deathOverlay h3 { color: var(--neon-red); font-size: 2rem; margin-bottom: 20px; font-family: 'Syncopate'; }

        /* --- CONTROLS --- */
        .joypad {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 12px; margin: 20px 0;
        }

        .btn-dir {
            width: 65px; height: 65px; background: #111;
            border: 2px solid var(--neon-blue); color: #fff;
            border-radius: 15px; font-size: 22px;
            display: flex; align-items: center; justify-content: center;
        }

        .btn-row { display: flex; gap: 10px; width: 100%; margin-top: 10px; }

        .btn-ui {
            flex: 1; padding: 16px; background: transparent;
            border: 2px solid var(--neon-blue); color: var(--neon-blue);
            font-weight: 800; text-transform: uppercase; border-radius: 8px; cursor: pointer;
        }

        .btn-ui:active { background: var(--neon-blue); color: #000; }
        .btn-abort { border-color: var(--neon-red); color: var(--neon-red); }

        /* --- MINESWEEPER --- */
        .mine-field { display: grid; grid-template-columns: repeat(8, 1fr); gap: 5px; width: 100%; max-width: 320px; }
        .tile { aspect-ratio: 1/1; background: #111; border: 1px solid #222; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; }

        .sys-log { width: 90%; max-width: 1150px; background: #000; padding: 15px; margin-bottom: 30px; border-radius: 10px; height: 80px; overflow-y: auto; color: var(--neon-green); font-size: 0.75rem; border: 1px solid #111; }
    </style>
</head>
<body>

    <header class="header-section">
        <div class="color-shift-box">
            <h1>KAVISH SHAH</h1>
            <p style="color: #666; font-size: 0.7rem; margin-top: 5px; letter-spacing: 4px;">ELITE SYSTEM ARCHITECT</p>
        </div>
    </header>

    <main class="grid-container">
        <div class="engine-card">
            <span class="card-label">SNAKE VORTEX 6.5</span>
            <div class="score-panel">
                <span style="color:var(--neon-green)">SCORE: <span id="curScore">0</span></span>
                <span style="color:var(--neon-pink)">FPS: <span id="fpsShower">60</span></span>
            </div>
            <div class="game-viewport" id="touchRegion">
                <canvas id="snakeCanvas" width="400" height="400"></canvas>
                <div id="deathOverlay">
                    <h3>WASTED</h3>
                    <div class="btn-row" style="padding: 0 20px;">
                        <button class="btn-ui" onclick="snake.init()">RETRY</button>
                        <button class="btn-ui btn-abort" onclick="snake.abort()">QUIT</button>
                    </div>
                </div>
            </div>
            <div class="joypad">
                <div></div><button class="btn-dir" onpointerdown="snake.setDir('UP')">â–²</button><div></div>
                <button class="btn-dir" onpointerdown="snake.setDir('LEFT')">â—€</button>
                <button class="btn-dir" onpointerdown="snake.setDir('DOWN')">â–¼</button>
                <button class="btn-dir" onpointerdown="snake.setDir('RIGHT')">â–¶</button>
            </div>
            <div class="btn-row">
                <button class="btn-ui" onclick="snake.init()">INITIALIZE</button>
                <button class="btn-ui btn-abort" onclick="snake.abort()">ABORT</button>
            </div>
        </div>

        <div class="engine-card">
            <span class="card-label">MINESWEEPER MATRIX</span>
            <div class="mine-field" id="mGrid"></div>
            <button class="btn-ui" style="margin-top: 20px; width: 100%;" onclick="mines.reset()">REBOOT MATRIX</button>
        </div>
    </main>

    <div class="sys-log" id="termLog">[SYS] Kernal Loaded. Performance Monitoring: Active.</div>

    <script>
        const term = (msg) => {
            const l = document.getElementById('termLog');
            l.innerHTML += `<br>> ${msg}`;
            l.scrollTop = l.scrollHeight;
        };

        const snake = {
            canvas: document.getElementById('snakeCanvas'),
            ctx: document.getElementById('snakeCanvas').getContext('2d'),
            body: [], apple: {x: 0, y: 0},
            dir: 'RIGHT', nextDir: 'RIGHT',
            score: 0, active: false,
            lastTick: 0, lastFrameTime: 0,
            frameReq: null,

            init() {
                document.getElementById('deathOverlay').style.display = 'none';
                this.active = true;
                this.body = [{x:200, y:200}, {x:180, y:200}, {x:160, y:200}];
                this.dir = 'RIGHT'; this.nextDir = 'RIGHT';
                this.score = 0;
                this.spawnApple();
                document.getElementById('curScore').innerText = "0";
                term("Engine Re-initialized.");
                this.frameReq = requestAnimationFrame((t) => this.run(t));
            },

            abort() {
                this.active = false;
                cancelAnimationFrame(this.frameReq);
                document.getElementById('deathOverlay').style.display = 'none';
                this.ctx.fillStyle = "#000";
                this.ctx.fillRect(0,0,400,400);
                term("SEQUENCE ABORTED.");
            },

            spawnApple() {
                this.apple = {
                    x: Math.floor(Math.random() * 20) * 20,
                    y: Math.floor(Math.random() * 20) * 20
                };
            },

            setDir(d) {
                if(d === 'UP' && this.dir !== 'DOWN') this.nextDir = 'UP';
                if(d === 'DOWN' && this.dir !== 'UP') this.nextDir = 'DOWN';
                if(d === 'LEFT' && this.dir !== 'RIGHT') this.nextDir = 'LEFT';
                if(d === 'RIGHT' && this.dir !== 'LEFT') this.nextDir = 'RIGHT';
            },

            run(t) {
                if(!this.active) return;
                
                // FPS Shower Logic
                const dt = t - this.lastFrameTime;
                this.lastFrameTime = t;
                const fps = Math.round(1000 / dt);
                if(t % 10 < 1) document.getElementById('fpsShower').innerText = fps;

                const delta = t - this.lastTick;
                if(delta > 105) { 
                    this.lastTick = t;
                    this.update();
                }
                this.draw();
                this.frameReq = requestAnimationFrame((t) => this.run(t));
            },

            update() {
                this.dir = this.nextDir;
                const head = {...this.body[0]};
                if(this.dir === 'UP') head.y -= 20;
                if(this.dir === 'DOWN') head.y += 20;
                if(this.dir === 'LEFT') head.x -= 20;
                if(this.dir === 'RIGHT') head.x += 20;

                if(head.x < 0) head.x = 380; if(head.x >= 400) head.x = 0;
                if(head.y < 0) head.y = 380; if(head.y >= 400) head.y = 0;

                if(this.body.some(s => s.x === head.x && s.y === head.y)) {
                    this.active = false;
                    document.getElementById('deathOverlay').style.display = 'flex';
                    term("COLLISION ERROR. Score: " + this.score);
                    return;
                }

                this.body.unshift(head);
                if(head.x === this.apple.x && head.y === this.apple.y) {
                    this.score += 10;
                    document.getElementById('curScore').innerText = this.score;
                    this.spawnApple();
                } else { this.body.pop(); }
            },

            draw() {
                const c = this.ctx;
                c.fillStyle = '#000'; c.fillRect(0,0,400,400);
                c.fillStyle = '#ff3131'; c.shadowBlur = 12; c.shadowColor = '#ff3131';
                c.beginPath(); c.arc(this.apple.x+10, this.apple.y+10, 8, 0, Math.PI*2); c.fill();
                c.shadowBlur = 0;
                this.body.forEach((s, i) => {
                    c.fillStyle = (i === 0) ? '#00f2ff' : '#006677';
                    c.fillRect(s.x+1, s.y+1, 18, 18);
                });
            }
        };

        let sx = 0, sy = 0;
        document.getElementById('touchRegion').addEventListener('touchstart', e => { sx = e.touches[0].clientX; sy = e.touches[0].clientY; }, {passive:true});
        document.getElementById('touchRegion').addEventListener('touchend', e => {
            let dx = e.changedTouches[0].clientX - sx, dy = e.changedTouches[0].clientY - sy;
            if(Math.abs(dx) > Math.abs(dy)) snake.setDir(dx > 0 ? 'RIGHT' : 'LEFT');
            else snake.setDir(dy > 0 ? 'DOWN' : 'UP');
        }, {passive:true});

        const mines = {
            reset() {
                const g = document.getElementById('mGrid'); g.innerHTML = '';
                for(let i=0; i<64; i++) {
                    const t = document.createElement('div'); t.className = 'tile';
                    t.onclick = () => {
                        if(Math.random() < 0.15) { t.innerText = 'ðŸ’£'; t.style.background = '#400'; }
                        else { t.innerText = Math.floor(Math.random()*4); t.style.background = '#222'; }
                    };
                    g.appendChild(t);
                }
                term("Matrix Grid Rebooted.");
            }
        };

        window.addEventListener('keydown', e => { if(e.key.includes('Arrow')) snake.setDir(e.key.replace('Arrow','').toUpperCase()); });
        mines.reset();
    </script>
</body>
</html>
