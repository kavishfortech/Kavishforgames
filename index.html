<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KAVISH SHAH | THE ARCHITECT</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=JetBrains+Mono:wght@400;800&display=swap');

        :root {
            --neon-blue: #00f2ff;
            --neon-green: #39ff14;
            --neon-pink: #ff00ea;
            --neon-red: #ff3131;
            --bg-black: #050508;
            --panel-bg: rgba(10, 10, 15, 0.98);
        }

        /* Prevent scrolling on mobile when swiping the game */
        * { 
            box-sizing: border-box; 
            margin: 0; padding: 0; 
            outline: none; 
            touch-action: manipulation;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-black);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- THE DYNAMIC COLOR BOX --- */
        .header-container {
            width: 100%;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            background: #000;
            border-bottom: 2px solid var(--neon-blue);
        }

        .animated-name-box {
            padding: 30px 50px;
            border: 4px solid var(--neon-blue);
            border-radius: 15px;
            text-align: center;
            background: rgba(0, 0, 0, 0.9);
            animation: borderFlow 6s infinite alternate;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
            width: 90%;
            max-width: 600px;
        }

        @keyframes borderFlow {
            0% { border-color: var(--neon-blue); box-shadow: 0 0 30px var(--neon-blue); }
            50% { border-color: var(--neon-pink); box-shadow: 0 0 30px var(--neon-pink); }
            100% { border-color: var(--neon-green); box-shadow: 0 0 30px var(--neon-green); }
        }

        .animated-name-box h1 {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(1.5rem, 8vw, 4rem);
            letter-spacing: -2px;
            animation: textFlow 6s infinite alternate;
        }

        @keyframes textFlow {
            0% { color: var(--neon-blue); text-shadow: 0 0 15px var(--neon-blue); }
            50% { color: var(--neon-pink); text-shadow: 0 0 15px var(--neon-pink); }
            100% { color: var(--neon-green); text-shadow: 0 0 15px var(--neon-green); }
        }

        /* --- RESPONSIVE DASHBOARD GRID --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            padding: 20px;
            width: 100%;
            max-width: 1200px;
        }

        /* Horizontal/Landscape adjustments */
        @media (orientation: landscape) and (max-height: 600px) {
            .dashboard { grid-template-columns: 1fr 1fr; }
            .header-container { padding: 15px; }
            .animated-name-box { padding: 10px; }
        }

        .card {
            background: var(--panel-bg);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .card-title {
            font-size: 1rem;
            color: var(--neon-blue);
            margin-bottom: 15px;
            text-transform: uppercase;
            font-weight: 800;
        }

        /* --- SNAKE ENGINE STYLING --- */
        .game-area {
            position: relative;
            width: 100%;
            max-width: 340px;
            aspect-ratio: 1/1;
            background: #000;
            border: 3px solid #222;
            border-radius: 10px;
        }

        canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
        }

        .score-row {
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 10px;
            font-size: 1.2rem;
            color: var(--neon-green);
        }

        /* --- MOBILE CONTROLS --- */
        .mobile-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .ctrl-btn {
            width: 60px; height: 60px;
            background: rgba(255,255,255,0.05);
            border: 2px solid var(--neon-blue);
            color: #fff;
            border-radius: 50%;
            font-size: 20px;
            display: flex; align-items: center; justify-content: center;
        }

        /* --- MINESWEEPER GRID --- */
        .m-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
            width: 100%;
            max-width: 320px;
        }

        .m-tile {
            aspect-ratio: 1/1;
            background: #111;
            border: 1px solid #333;
            border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .btn-action {
            width: 100%;
            padding: 15px;
            margin-top: 15px;
            background: transparent;
            border: 2px solid var(--neon-blue);
            color: var(--neon-blue);
            text-transform: uppercase;
            font-weight: 800;
            border-radius: 10px;
        }

        /* --- CONSOLE OUTPUT --- */
        .console {
            width: 90%;
            max-width: 1160px;
            background: #000;
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            height: 100px;
            overflow-y: auto;
            color: var(--neon-green);
            font-size: 0.8rem;
            border: 1px solid #111;
        }
    </style>
</head>
<body>

    <header class="header-container">
        <div class="animated-name-box">
            <h1>KAVISH SHAH</h1>
            <p style="color: #888; letter-spacing: 5px; font-size: 0.7rem;">SYSTEM ARCHITECT</p>
        </div>
    </header>

    <main class="dashboard">

        <div class="card">
            <h2 class="card-title">SNAKE VORTEX 6.0</h2>
            <div class="score-row">
                <span>DATA: <span id="scoreVal">0</span></span>
                <span style="color:var(--neon-pink)">FPS: 60</span>
            </div>
            <div class="game-area" id="gameArea">
                <canvas id="snakeCanvas" width="400" height="400"></canvas>
            </div>
            <div class="mobile-controls">
                <div></div><button class="ctrl-btn" onpointerdown="snake.setDir('UP')">â–²</button><div></div>
                <button class="ctrl-btn" onpointerdown="snake.setDir('LEFT')">â—€</button>
                <button class="ctrl-btn" onpointerdown="snake.setDir('DOWN')">â–¼</button>
                <button class="ctrl-btn" onpointerdown="snake.setDir('RIGHT')">â–¶</button>
            </div>
            <button class="btn-action" onclick="snake.init()">INITIALIZE</button>
        </div>

        <div class="card">
            <h2 class="card-title">MINESWEEPER MATRIX</h2>
            <div class="m-grid" id="mineGrid"></div>
            <button class="btn-action" onclick="mines.boot()">REBOOT MATRIX</button>
        </div>

    </main>

    <div class="console" id="log">[SYS] Ready. Input lag optimized for mobile...</div>

    <script>
        const log = (m) => {
            const l = document.getElementById('log');
            l.innerHTML += `<br>> ${m}`;
            l.scrollTop = l.scrollHeight;
        };

        /**
         * ZERO-DELAY SNAKE ENGINE
         * Uses RequestAnimationFrame for smooth 60fps movement
         */
        const snake = {
            canvas: document.getElementById('snakeCanvas'),
            ctx: document.getElementById('snakeCanvas').getContext('2d'),
            body: [],
            apple: {x: 0, y: 0},
            dir: 'RIGHT',
            nextDir: 'RIGHT',
            score: 0,
            active: false,
            lastTime: 0,
            speed: 120, // ms per move

            init() {
                this.body = [{x:200, y:200}, {x:180, y:200}, {x:160, y:200}];
                this.dir = 'RIGHT';
                this.nextDir = 'RIGHT';
                this.score = 0;
                this.active = true;
                this.spawnApple();
                document.getElementById('scoreVal').innerText = "0";
                log("Engine Online. Swiping/Buttons enabled.");
                requestAnimationFrame((t) => this.loop(t));
            },

            spawnApple() {
                this.apple = {
                    x: Math.floor(Math.random() * 20) * 20,
                    y: Math.floor(Math.random() * 20) * 20
                };
            },

            setDir(d) {
                if(d === 'UP' && this.dir !== 'DOWN') this.nextDir = 'UP';
                if(d === 'DOWN' && this.dir !== 'UP') this.nextDir = 'DOWN';
                if(d === 'LEFT' && this.dir !== 'RIGHT') this.nextDir = 'LEFT';
                if(d === 'RIGHT' && this.dir !== 'LEFT') this.nextDir = 'RIGHT';
            },

            loop(timeStamp) {
                if(!this.active) return;

                const delta = timeStamp - this.lastTime;
                if(delta > this.speed) {
                    this.lastTime = timeStamp;
                    this.tick();
                }
                this.render();
                requestAnimationFrame((t) => this.loop(t));
            },

            tick() {
                this.dir = this.nextDir;
                const head = {...this.body[0]};

                if(this.dir === 'UP') head.y -= 20;
                if(this.dir === 'DOWN') head.y += 20;
                if(this.dir === 'LEFT') head.x -= 20;
                if(this.dir === 'RIGHT') head.x += 20;

                // --- VORTEX BORDER WRAP ---
                if(head.x < 0) head.x = 380;
                if(head.x >= 400) head.x = 0;
                if(head.y < 0) head.y = 380;
                if(head.y >= 400) head.y = 0;

                // Collision
                if(this.body.some(s => s.x === head.x && s.y === head.y)) {
                    this.active = false;
                    log("Crash detected. Score: " + this.score);
                    return;
                }

                this.body.unshift(head);

                // Eat Apple
                if(head.x === this.apple.x && head.y === this.apple.y) {
                    this.score += 10;
                    document.getElementById('scoreVal').innerText = this.score;
                    this.spawnApple();
                    // Speed up slightly
                    if(this.speed > 60) this.speed -= 1;
                } else {
                    this.body.pop();
                }
            },

            render() {
                const c = this.ctx;
                c.fillStyle = '#000';
                c.fillRect(0,0,400,400);

                // Apple
                c.fillStyle = '#ff3131';
                c.shadowBlur = 10; c.shadowColor = '#ff3131';
                c.beginPath();
                c.arc(this.apple.x+10, this.apple.y+10, 8, 0, Math.PI*2);
                c.fill();

                // Snake
                c.shadowBlur = 0;
                this.body.forEach((s, i) => {
                    c.fillStyle = (i === 0) ? '#00f2ff' : '#007788';
                    c.fillRect(s.x+1, s.y+1, 18, 18);
                });
            }
        };

        // --- SWIPE GESTURES FOR MOBILE ---
        let touchStartX = 0; let touchStartY = 0;
        document.getElementById('gameArea').addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, false);

        document.getElementById('gameArea').addEventListener('touchend', e => {
            let x = e.changedTouches[0].screenX;
            let y = e.changedTouches[0].screenY;
            let dx = x - touchStartX;
            let dy = y - touchStartY;

            if (Math.abs(dx) > Math.abs(dy)) {
                snake.setDir(dx > 0 ? 'RIGHT' : 'LEFT');
            } else {
                snake.setDir(dy > 0 ? 'DOWN' : 'UP');
            }
        }, false);

        /**
         * MINESWEEPER LOGIC
         */
        const mines = {
            boot() {
                const g = document.getElementById('mineGrid');
                g.innerHTML = '';
                for(let i=0; i<64; i++) {
                    const t = document.createElement('div');
                    t.className = 'm-tile';
                    t.onclick = () => {
                        if(Math.random() < 0.15) {
                            t.innerText = 'ðŸ’£'; t.style.background = '#400';
                        } else {
                            t.innerText = Math.floor(Math.random() * 3);
                            t.style.background = '#222';
                        }
                    };
                    g.appendChild(t);
                }
            }
        };

        // Desktop controls
        window.addEventListener('keydown', e => {
            if(e.key.includes('Arrow')) snake.setDir(e.key.replace('Arrow','').toUpperCase());
        });

        mines.boot();
    </script>
</body>
</html>
